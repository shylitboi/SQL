# 1.과일로 만든 아이스크림 고르기

## 문제 설명

두 개의 테이블이 있습니다:

### 1. FIRST_HALF 테이블 (상반기 주문 정보)

| 컬럼명          | 설명             |
| ------------ | -------------- |
| SHIPMENT\_ID | 출하 번호          |
| FLAVOR       | 아이스크림 맛 (기본 키) |
| TOTAL\_ORDER | 상반기 총 주문량      |

---

### 2. ICECREAM_INFO 테이블 (성분 정보)

| 컬럼명              | 설명                                      |
| ---------------- | --------------------------------------- |
| FLAVOR           | 아이스크림 맛 (기본 키)                          |
| INGREDIENT\_TYPE | 주성분 종류 (`sugar_based` 또는 `fruit_based`) |

---

## 📌 문제 조건

* 주문량(TOTAL\_ORDER)이 **3000 초과**
* 성분(INGREDIENT\_TYPE)이 **fruit\_based**
* **FLAVOR**만 출력
* **주문량이 많은 순서로 정렬**

---

## 풀이 과정

### 1. JOIN

* 이유: 하나는 주문량, 하나는 성분 정보만 가지고 있기 때문
* 공통 열 `FLAVOR`를 기준으로 테이블을 합쳐야 함

```sql
FROM FIRST_HALF
JOIN ICECREAM_INFO ON FIRST_HALF.FLAVOR = ICECREAM_INFO.FLAVOR
```

---

### 2. 조건 필터링

* 주문량이 3000보다 큰 것
* 성분이 fruit_based인 것

```sql
WHERE FIRST_HALF.TOTAL_ORDER > 3000
  AND ICECREAM_INFO.INGREDIENT_TYPE = 'fruit_based'
```

---

### 3. 필요한 열만 조회

* FLAVOR 열만 조회

```sql
SELECT FIRST_HALF.FLAVOR
```

---

### 4. 주문량 내림차순 정렬

```sql
ORDER BY FIRST_HALF.TOTAL_ORDER DESC
```

---

## 최종 SQL 쿼리

```sql
SELECT FIRST_HALF.FLAVOR
FROM FIRST_HALF
JOIN ICECREAM_INFO ON FIRST_HALF.FLAVOR = ICECREAM_INFO.FLAVOR
WHERE FIRST_HALF.TOTAL_ORDER > 3000
  AND ICECREAM_INFO.INGREDIENT_TYPE = 'fruit_based'
ORDER BY FIRST_HALF.TOTAL_ORDER DESC;
```

---

## 🔍 JOIN 구문 정리

### ▶ 기본 문법

```sql
FROM 테이블1
JOIN 테이블2 ON 테이블1.공통열 = 테이블2.공통열
```

### ▶ 해석

> 테이블1과 테이블2를 공통열이 같은 행들끼리 한 줄로 붙여서 합쳐라

### ▶ 자주 쓰는 JOIN 종류

| JOIN 종류      | 설명                                |
| ------------ | --------------------------------- |
| `INNER JOIN` | 양쪽 테이블에 공통된 값이 있을 때만 합침 (기본 JOIN) |
| `LEFT JOIN`  | 왼쪽 테이블은 모두 가져오고, 오른쪽은 공통된 값만      |
| `RIGHT JOIN` | 오른쪽 테이블은 모두 가져오고, 왼쪽은 공통된 값만      |

---
